**Установка git на различные OS**: [https://kinsta.com/knowledgebase/install-git/](https://kinsta.com/knowledgebase/install-git/)

**Полезные команды**

Проверка версии
```
git --version
```

Конфигурация git
```
git config --global user.name "имя пользователя (на GitHub)"
git config --global user.email "имейл (из учетки на GitHub)"
```

Помощь
```
git команда -help
```

Создание локального репозитория
```
mkdir myproject
cd myproject
git init
```

Проверка статуса
```
git status
```

Добавление файла в область stage -- это значит, что текущая версия файла маркируется, что она пойдет в следующий коммит.
```
git add "название файла" # или
git add --all # или
git add --A # или
git add .
```

Коммит
```
git commit -m "текст сообщения"
```

История коммитов
```
git log
```

Создание ветки
```
git branch название-ветки
```

Вывести список веток и посмотреть, в какой сейчас находимся
```
git branch
```

Сменить рабочее пространство в другую ветку
```
git checkout название-ветки
```

Слияние веток
```
git checkout master # перемещаемся в ветку, в которую хотим слить (например, master)
git merge название-ветки # которую хотим слить
```

Пуш локального репозитория на гитхаб (там должен быть уже создан репозиторий)
```
git remote add origin ссылка-на-гит-репозитория
git push --set-upstream origin master
```

Пулл из удаленного репозитория
```
git fetch origin
git log origin/master # посмотреть логи ветки origin/master
git diff origin/master # посмотреть разницу между ветками origin/master и локальной master
git merge origin/master
```

ИЛИ просто
```
git pull origin
```

Пуш изменений в удаленный репозиторий
```
git push origin
```

Пулл определенной ветки
```
git branch -a # посмотреть удаленные и локальные ветки
git checkout название-ветки # перемещаемся в нужную ветку
git pull
```

Пуш определенной ветки

Команды ниже, если нужно запушить ветку, которой нет в удаленном репозитории. Если ветка там есть, то надо просто ее активировать и запушить обычным образом.
```
git checkout -b название-ветки # аргумент -b означает создать ветку, если ее нет. Если нужно просто переключиться на другую ветку, этот аргумент не нужен.
git add название_файла # если файл не добавлен для трекинга
git commit -m "текст сообщения"
git push origin название-ветки
```

Копирование чужого репозитория
1. Fork -- только на GitHub и доступно не во всех репозиториях. Создает вашу личную удаленную копию репозитория, которая не будет связана с родительским.
2. git clone -- когда репозиторий клонируется, создается его локальная копия на *машине* со всеми логами и версиями, которую можно будет синхронизировать с родительским репозиторием.

Можно скорнировать репозиторий, а потом запушить его на гитхаб. Или сначала сделать fork, а потом склонировать ее.
```
git clone url-на-репозиторий
```

Конфигурация удаленнных репозиториев
- origin -- обычно это ваша личная fork, в которой у вас есть права на чтение и запись
- upstream -- оригинальный чужой репозиторий, в котором у вас есть права только на чтение
```
git remote -v # проверяем, что там с удаленными репозиториями
git remote rename origin upstream # если origin указывает на оригинальный чужой репозиторий
git remote add origin гит-вашей-fork # добавление вилки как origin, чтобы у вас были права в нее писать
git remote add upstream гит-вашей-оригинального-репозитория # аналогично: добавление оригинального репозитория, чтобы из него можно было получат апдейты
git fetch upstream # чтобы получить апдейты из оригинального репозитория
```
Если у вас есть соответствующие права в чужом репозитории и вы можете пушить прямо в него ИЛИ если вы работаете только со своей копией, настраивать upstream не нужно.

Запрос на слияние (pull request): когда вы запушили изменения в свою личную удаленную копию репозитория (origin), вы можете создать на гитхабе запрос на слияние с изначальным (родительским репозиторием / upstream).

**Отмена сделанных изменений. Вмешательство в историю коммитов репозитория может быть очень опасным. Обычно ок вносить подобные изменения в свой локальный репозиторий. Но следует избегать внесения изменений, которые перезаписывают историю в удаленные репозитории, особенно если с ними работают другие!**

1. если файл не был добавлен в stage (с git add)
   ```
   git checkout -- название-файла
   ```
2. если файл был добавлен в stage, но до коммита
   ```
   git reset HEAD название-файла # операция, обратная add. HEAD означает последнюю закоммиченную версию файла.
   git checkout название-файла # см. пункт 1
   ```
3. если файл был закоммичен
   ```
   git reset HEAD~
   ```

Дополнительные ресурсы про то, как отменить изменения:
- [https://git-scm.com/book/en/v2/Git-Basics-Undoing-Things](https://git-scm.com/book/en/v2/Git-Basics-Undoing-Things)
- [https://sethrobertson.github.io/GitFixUm/fixup.html](https://sethrobertson.github.io/GitFixUm/fixup.html)

